<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Telemetry Demo – Temperatur & Licht</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
<header>
    <h1>Telemetry Demo</h1>
    <p class="tag">API: GET/PUT <code>/telemetry</code></p>
</header>

<main>
    <section class="card">
        <div id="status" class="status">–</div>
    </section>

    <section class="card">
        <h2>Live Daten</h2>
        <div class="kv">
            <div><span class="k">Temperatur</span><span class="v"><span id="tVal">–</span> °C</span></div>
            <div><span class="k">Licht (raw)</span><span class="v"><span id="lightRawVal">–</span></span></div>
            <div><span class="k">Licht (norm)</span><span class="v"><span id="lightNormVal">–</span></span></div>
            <div><span class="k">Timestamp</span><span class="v"><span id="tsVal">–</span></span></div>
        </div>
    </section>

    <section class="card">
        <h2>LED Steuerung</h2>
        <div class="kv">
            <div><span class="k">Status</span><span class="v"><span id="ledState">–</span></span></div>
        </div>

        <div class="controls">
            <button id="btnOn">LED AN</button>
            <button id="btnOff">LED AUS</button>
            <label>
                Farbe:
                <input id="ledColor" type="color" value="#ffa000">
            </label>
            <label>
                Helligkeit: <span id="briVal">20</span>%
                <input id="ledBri" type="range" min="0" max="100" value="20">
            </label>
        </div>
    </section>


    <section class="card">
        <h2>Temperaturverlauf</h2>
        <canvas id="tempChart" height="180"></canvas>
    </section>

    <section class="card">
        <h2>Lichtverlauf (raw & norm)</h2>
        <canvas id="lightChart" height="220"></canvas>
    </section>
</main>

<footer>
    © 2025 – Demo. Server: <code>python3 server.py</code> → <a href="http://localhost:8123" target="_blank">http://localhost:8123</a>
</footer>

<script type="module" src="app.js"></script>
</body>
</html>
